<!-- <h2>Products</h2> -->
<!-- <div class="row">
<div *ngFor="let product of products" class="column">
    <mat-card class="example-card">
            <mat-card-header>
                <mat-card-title>
                    <h3>
                        <a [title]="product.name + ' details'" [routerLink]="['/shop/products', product.id]">
                            {{ product.name }}
                        </a>
                    </h3>
                </mat-card-title>
                <mat-card-subtitle>Subtitle</mat-card-subtitle>
            </mat-card-header>
            <img mat-card-image src="https://i1.rozetka.ua/goods/1881600/copy_metabo_0903063122_58c79bb98dd70_images_1881600692.jpg" class="img">
            <mat-card-content>
                <p *ngIf="product.description">
                    Description: {{ product.description }}
                </p>
                <p *ngIf="product.price">
                        Price: {{ product.price }}
                    </p>
            </mat-card-content>
            <mat-card-actions>
                <button (click)="share()" type="button" class="button fancy-button">
                        <i class="material-icons">share</i> Share
                </button>
                <button (click)="addToCart(product)" class="button fancy-button"><i class="material-icons">add_shopping_cart</i>Buy</button>
        </mat-card-actions>
    </mat-card>
</div>

</div> -->

<div class="wrapper">
    <aside class="list-group">
        <a class="list-group-item active">
            Categories
        </a>

        <a class="list-group-item" *ngFor="let category of categories;let i = index">
            <div>
                <span>{{ category.name }}</span>
                <mat-icon 
                    *ngIf="category.subCategories.length > 0"
                    data-toggle="collapse" [attr.data-target]="'#subCategories' + i"
                >
                    add
                </mat-icon>
            </div>

            <ul class="collapse" id="subCategories{{i}}" *ngIf="category.subCategories.length > 0">
                <li *ngFor="let subCategory of category.subCategories">
                    <a>
                        {{ subCategory.name }}
                    </a>
                </li>
            </ul>
        </a>
    </aside>

    <main>
        <div class="products">
            <div class="thumbnail" *ngFor="let product of products">
                <div class="inner">

                    <div class="img-wrapper">
                        <img src="https://i1.rozetka.ua/goods/1286260/glenmorangie_5010494560282_images_1286260212.jpg" alt="..." height="160px">
                    </div>

                    <div class="caption">
                        <h3>{{ product.name }}</h3>

                        <div class="price" *ngIf="!product.isPromotion">
                            <h3>{{ product.price }}</h3>
                            <mat-icon>add_shopping_cart</mat-icon>
                        </div>

                        <div class="without-discount" *ngIf="product.isPromotion">
                            {{ product.price }}
                        </div>
                        <div class="discount-price" *ngIf="product.isPromotion">
                            <h3>{{ product.price - (product.price * product.discount / 100) }}</h3>
                            <mat-icon>add_shopping_cart</mat-icon>
                        </div>

                        <div class="available">
                            <span *ngIf="product.available">Есть в наличии</span>
                            <span *ngIf="!product.available">Нету в наличии</span>
                        </div>

                        <ul *ngIf="product.characteristicsValues.length > 0">
                            <li *ngFor="let value of product.characteristicsValues">
                                <span>{{ value.name }}:</span>
                                <span *ngIf="value.type == 'boolean' && value.booleanValue">Есть</span>
                                <span *ngIf="value.type == 'boolean' && !value.booleanValue">Нету</span>
                                <span *ngIf="value.type != 'boolean'">{{ value[value.type + 'Value'] }}</span>
                            </li>
                        </ul>
                    </div>

                </div>
            </div> 
        </div>

        <nav>
            <ul class="pagination">
                <li class="page-item">
                    <a class="page-link" 
                        [routerLink]="['']" 
                        [queryParams]="{page: canPrev ? page - 1 : page}" 
                        [ngClass]="{disabled: canPrev}"
                    >
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>

                <li 
                    class="page-item active" 
                    *ngFor="let p of pages"
                    [ngClass]="{active: p === page}"
                >
                    <a 
                        class="page-link" 
                        [routerLink]="['']" 
                        [queryParams]="{page: p != '...' ?  p : page}" 
                    >
                        {{ p }}
                    </a>
                </li>

                <li class="page-item">
                    <a class="page-link" 
                        [routerLink]="['']" 
                        [queryParams]="{page: canNext ? page + 1 : page }" 
                        [ngClass]="{disabled: canNext}"
                    >
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav> 
    </main>
</div>